# ucc
study project
2023年12月5日，写完这个项目也一个月了近，写的时候囫囵吞枣，必须细细再品一遍。今天是实习第一天，发现自己远远不够，总是能学到很多东西，希望自己不要疲惫，不要畏惧。多多学习，谦虚学习。这里会包含这个服务器的类图，也会包含里面的一些计算机基础知识，包含里面一些编程思想，总之所有在回顾期间我不会的东西，都会写在这个上面。加油。

##日志模块（log4j）
日志模块在log.h中定义生成日志并输出的类，在log.cpp中实现，最关键的实现是log.cpp的格式初始化方法，该方法接受用户自主输入的日志输出选项，解析并按照用户需求输出日志。此外就是日志输出器的两个继承类，一个负责输出到控制台，另外一个负责输出到文件。
此外比较困难的在于使用了大量的宏来实现众多重复的函数，比如各类日志格式函数，日志生产函数。

##线程/协程模块与线程池
线程模块基于pthread.h,semaphore.h,atomic实现，
在thread.h中定义了信号量（sem_init,sem_destory,sem_wait,sem_post），互斥量，自旋锁，读写锁（读写互斥量），与线程类，并进一步把锁进行封装，使用时无需考虑不同锁内部的不同操作。
其中创建线程pthread_create，线程间通信（pthread_join），线程释放（pthread_detach）的方法进行封装。
在创建线程时传入自己定义的run函数，在run函数中真正执行任务，任务是由std::function定义的（函数指针），在调用构造函数时需传入要执行的任务，通过swap把任务放到内存中，然后执行。

协程模块基于ucontext.h实现

##
